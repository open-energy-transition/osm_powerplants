cache_dir: null  # Default: auto-generate from fn location
# cache_dir: /custom/path/to/osm_cache  # Custom path
# cache_dir: ./tutorial_cache  # Relative path

# OSM Global configurations
force_refresh: false
plants_only: true
missing_name_allowed: true
missing_technology_allowed: false
missing_start_date_allowed: true
capacity_extraction:
  enabled: true
  # regex_patterns:
  #   - ^(\d+(?:\.\d+)?)([a-zA-Z]+(?:p|el|e)?)$
  #   - ^(\d+(?:\.\d+)?)\s*([a-zA-Z]+(?:p|el|e)?)$
capacity_estimation:
  enabled: false
units_clustering:
  enabled: false
units_reconstruction:
  enabled: true
  min_generators_for_reconstruction: 2
  name_similarity_threshold: 0.7
plant_tags:
  source_tags_keys:
    - plant:source
    - generator:source
  technology_tags_keys:
    - plant:method
    - plant:type
    - site
  output_tags_keys:
    - plant:output:electricity
  name_tags_keys:
    - name:en
    - name
  start_date_tags_keys:
    - start_date
generator_tags:
  source_tags_keys:
    - generator:source
  technology_tags_keys:
    - generator:method
    - generator:type
    - site
  output_tags_keys:
    - generator:output:electricity
  name_tags_keys:
    - name:en
    - name
  start_date_tags_keys:
    - start_date
source_mapping:
  Nuclear: [nuclear, nuclear;oil]
  Solid Biomass: [biomass, wood, firewood, дрова, woodchips, древесная_кора, hay, peat, biofuel, ethanol, biomass;gas, biomass;oil, biomass;coal, biomass;waste, biomass;solar, biomass;electricity, biomass;peat, biofuel;gas, biofuel;oil, biofuel;electricity, wood;gas]
  Biogas: [biogas, landfill_gas, abandoned_mine_methane, coalbed_methane, methane, sludge, biogas;gas, biogas;solar, biogas;oil]
  Wind: [wind, wind;solar, wind;biogas, wind;diesel]
  Hydro: [hydro, hydro;oil, hydro;solar]
  Solar: [solar, solar;battery, solar;wind, solar;diesel, solar;gas, solar;biomass, solar;steam, solar;geothermal, solar;coal]
  Oil: [oil, diesel, gasoline, mazut, fuel_oil, petrolio, мазут, petroleum_coke, asphaltite, oil;gas, oil;coal, oil;biomass, oil;diesel, oil;solar, oil;waste, oil;biogas, oil;battery, diesel;gas, diesel;oil, diesel;solar, diesel;wind]
  Natural Gas: [gas, природный_газ, попутный нефтяной газ, gas_natural, gas;oil, gas;coal, gas;biomass, gas;diesel, gas;solar, gas;waste, gas;electricity, gas;waste_heat, gas;woodchips, gas;mazut, gas;fuel_oil, gas;firewood, gas;geothermal, gas;steam, gas;other, gas;hydrogen, gas;battery, gas;nuclear, gas;gasoline, gas;wood, gas;peat, gasoline;gas]
  Hard Coal: [coal, coal;gas, coal gas, coal;biomass, coal;oil, coal;waste, coal;wood, coal;other, coal;abandoned_mine_methane, coal;petroleum_coke, coal;diesel]
  Lignite: []
  Geothermal: [geothermal, geothermal;gas, geothermal;steam, geothermal;biomass]
  Waste: [waste, waste_heat, waste_gas, waste;gas, waste;biomass, waste;coal, waste;oil, waste;solar, waste;gasification, waste_heat;gas, wastewater;gas]
  Other: [tidal, wave, osmotic]
technology_mapping:
  Combustion Engine: [combustion, reciprocating_engine, gas_engine, internal_combustion, motor_generator, anaerobic_digestion, bioreactor, gasification, combustion;thermal, combustion;anaerobic_digestion]
  Steam Turbine: [steam_turbine, steam_generator, thermal, boiler, condensing_turbine, fission, geothermal, hydrothermal, steam, combustion;thermal, combustion;steam, combustion, cogeneration]
  OCGT: [gas_turbine, open_cycle]
  CCGT: [combined_cycle, ccpp, thermal\uff1bcombined_cycle, thermal;combined_cycle, ccgt]
  Run-Of-River: [run-of-the-river, stream, hydrodynamic_screw, mini_hydro, francis_turbine, kaplan_turbine, pelton_turbine, pelton_wheel, vlh, crossflow_turbine, water_turbine, horizontal_axis, vertical_axis, kaplan, three-level]
  Reservoir: [water-storage, barrage, horizontal_axis, vertical_axis, water-storage;run-of-the-river]
  Pumped Storage: [water-pumped-storage, air-pumped-storage]
  Offshore: []
  Onshore: [horizontal_axis, vertical_axis, wind_turbine, nordex energy n 149, vestas_v_90, e_101, vestas_v90, "horizontal:_axis", wind_turbine;photovoltaic, wind_farm]
  PV: [photovoltaic, solar_photovoltaic_panel, ground_mounted, solar, photovoltaic;battery, photovoltaic;thermal, solar_photovoltaic_panel, condensing_turbine;solar_photovoltaic_panel]
  CSP: [solar_thermal_collector, solar_updraft_tower]
  Marine: []
source_technology_mapping:
  Nuclear: [Steam Turbine]
  Solid Biomass: [Steam Turbine, Combustion Engine]
  Biogas: [Combustion Engine]
  Wind: [Offshore, Onshore]
  Hydro: [Run-Of-River, Reservoir, Pumped Storage]
  Solar: [PV, CSP]
  Oil: [Combustion Engine, OCGT, Steam Turbine]
  Natural Gas: [OCGT, CCGT, Combustion Engine, Steam Turbine]
  Hard Coal: [Steam Turbine, CCGT, OCGT]
  Lignite: [Steam Turbine]
  Geothermal: [Steam Turbine]
  Waste: [Combustion Engine, Steam Turbine]
  Other: [Marine]
set_mapping:
  # Store: Storage and energy storage technologies
  Store:
    - Reservoir          # 95.8% are Store
    - Pumped Storage     # 85.2% are Store
    - Marine             # 100% are Store
  # PP: Regular power plant technologies
  PP:
    - PV                 # 99.9% are PP
    - CSP                # 100% are PP
    - Onshore            # 99.9% are PP
    - Offshore           # 100% are PP
    - Run-Of-River       # 97.3% are PP
    - Combustion Engine  # 100% are PP
    - OCGT               # Not in data, but typically peaking plants = PP
    - CCGT               # For now assumed as PP, could be CHP in some cases
    - Steam Turbine      # For now assumed as PP, could be CHP in some cases
  # CHP: Not implemented yet, remains for future use (CCGT and steam turbines can be used in CHP mode)
  CHP:
    # - CCGT
    # - Steam Turbine
sources:
  Solar:
    units_clustering:
      method: dbscan
      eps: 0.005
      min_samples: 2
    capacity_extraction:
      additional_tags:
        - solar:output
    capacity_estimation:
      method: area_based
      efficiency: 150
  Wind:
    units_clustering:
      method: dbscan
      eps: 0.02
      min_samples: 2
    capacity_extraction:
      additional_tags:
        - wind:output
  #   capacity_estimation:
  #     method: default_value
  #     unit_capacity: 2.0
  # Hydro:
  #   capacity_extraction:
  #     additional_tags:
  #       - hydro:output
  #   capacity_estimation:
  #     method: default_value
  #     unit_capacity: 10.0
  # Natural Gas:
  #   capacity_estimation:
  #     method: default_value
  #     unit_capacity: 50.0
  # Solid Biomass:
  #   capacity_estimation:
  #     method: default_value
  #     unit_capacity: 10.0
omitted_countries: ["Kosovo"]  # List of names of countries to omit from OSM as can not be queried via Overpass API
overpass_api:
  api_url: https://overpass-api.de/api/interpreter  # Default Overpass API endpoint https://overpass.private.coffee/api/interpreter   https://overpass-api.de/api/interpreter
  timeout: 1200
  max_retries: 3
  retry_delay: 60
  cache_size_gb: 12
  show_progress: true

# Algorithm parameters (for reference)
algorithm_params:
  dbscan:
    - eps
    - min_samples
    - metric
    - metric_params
    - algorithm
    - leaf_size
    - p
    - n_jobs
